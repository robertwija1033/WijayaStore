{"ast":null,"code":"import _slicedToArray from\"D:/UAS/wijaya-store/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import\"./Cart.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var numberFormatter=function numberFormatter(amount){var formatter=new Intl.NumberFormat(\"id-ID\",{style:\"currency\",currency:\"IDR\"});return formatter.format(amount).toString().slice(0,-3);};var Cart=function Cart(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var setQty=function setQty(type,product){var findItem=cartItems.find(function(item){return item.name===product;});if(type===\"increase\"){var newCart=[];if(findItem.qty+1>findItem.stock){findItem.qty=findItem.stock;newCart=cartItems.map(function(item){return item.name===product?findItem:item;});}else{findItem.qty+=1;newCart=cartItems.map(function(item){return item.name===product?findItem:item;});}setCartItems(newCart);localStorage.setItem(\"wijayastore_cart\",JSON.stringify(cartItems));}else{var _newCart=[];if(findItem.qty===1){_newCart=cartItems.filter(function(item){return item.name!==product;});localStorage.setItem(\"wijayastore_cart\",JSON.stringify(_newCart));}else{findItem.qty-=1;_newCart=cartItems.map(function(item){return item.name===product?findItem:item;});localStorage.setItem(\"wijayastore_cart\",JSON.stringify(_newCart));}setCartItems(_newCart);}};useEffect(function(){var localStorageCart=localStorage.getItem(\"wijayastore_cart\")?JSON.parse(localStorage.getItem(\"wijayastore_cart\")):[];setCartItems(localStorageCart);},[]);return/*#__PURE__*/_jsxs(\"div\",{class:\"cart-box\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"cart-title\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Your Shopping Bag\"}),/*#__PURE__*/_jsx(\"form\",{children:/*#__PURE__*/_jsx(Link,{to:\"/Home\",children:\"Continue Shopping\"})})]}),cartItems.length===0?/*#__PURE__*/_jsx(\"div\",{children:\"Your cart is currently empty.\"}):/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Barang\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Pengiriman ke\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Jumlah\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Harga\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:cartItems.map(function(item,idx){var _item$price;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{class:\"title\",\"data-label\":\"Item\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/\").concat(item.image)})}),/*#__PURE__*/_jsx(\"div\",{class:\"content-image\",children:/*#__PURE__*/_jsx(\"h3\",{children:item.name})})]}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Shipped from\",children:\"Medan\"}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Quantity\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"quantity\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQty(\"decrease\",item.name);},children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{children:item.qty}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setQty(\"increase\",item.name);},children:\"+\"})]})}),/*#__PURE__*/_jsx(\"td\",{\"data-label\":\"Price\",children:numberFormatter(item.qty*Number((_item$price=item.price)===null||_item$price===void 0?void 0:_item$price.substring(2).split(\".\").join(\"\")))})]},idx);})})]}),cartItems.length!==0&&/*#__PURE__*/_jsx(\"div\",{class:\"cart-payment\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"payment\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"total\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"total:\"}),/*#__PURE__*/_jsx(\"h5\",{children:numberFormatter(cartItems.reduce(function(acc,item){var _item$price2;return acc+Number((_item$price2=item.price)===null||_item$price2===void 0?void 0:_item$price2.substring(2).split(\".\").join(\"\"))*item.qty;},0))})]}),/*#__PURE__*/_jsx(Link,{to:\"/Checkout\",children:\"Secure Checkout\"})]})})]});};export default Cart;","map":{"version":3,"sources":["D:/UAS/wijaya-store/src/components/Cart/Cart.js"],"names":["useState","useEffect","Link","numberFormatter","amount","formatter","Intl","NumberFormat","style","currency","format","toString","slice","Cart","cartItems","setCartItems","setQty","type","product","findItem","find","item","name","newCart","qty","stock","map","localStorage","setItem","JSON","stringify","filter","localStorageCart","getItem","parse","length","idx","process","env","PUBLIC_URL","image","Number","price","substring","split","join","reduce","acc"],"mappings":"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","sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Cart.css\";\r\n\r\nconst numberFormatter = (amount) => {\r\n  let formatter = new Intl.NumberFormat(\"id-ID\", {\r\n    style: \"currency\",\r\n    currency: \"IDR\",\r\n  });\r\n\r\n  return formatter.format(amount).toString().slice(0, -3);\r\n};\r\n\r\nconst Cart = () => {\r\n  const [cartItems, setCartItems] = useState([]);\r\n\r\n  const setQty = (type, product) => {\r\n    const findItem = cartItems.find((item) => item.name === product);\r\n\r\n    if (type === \"increase\") {\r\n      let newCart = [];\r\n      if (findItem.qty + 1 > findItem.stock) {\r\n        findItem.qty = findItem.stock;\r\n        newCart = cartItems.map((item) =>\r\n          item.name === product ? findItem : item\r\n        );\r\n      } else {\r\n        findItem.qty += 1;\r\n        newCart = cartItems.map((item) =>\r\n          item.name === product ? findItem : item\r\n        );\r\n      }\r\n      setCartItems(newCart);\r\n      localStorage.setItem(\"wijayastore_cart\", JSON.stringify(cartItems));\r\n    } else {\r\n      let newCart = [];\r\n      if (findItem.qty === 1) {\r\n        newCart = cartItems.filter((item) => item.name !== product);\r\n        localStorage.setItem(\"wijayastore_cart\", JSON.stringify(newCart));\r\n      } else {\r\n        findItem.qty -= 1;\r\n        newCart = cartItems.map((item) =>\r\n          item.name === product ? findItem : item\r\n        );\r\n        localStorage.setItem(\"wijayastore_cart\", JSON.stringify(newCart));\r\n      }\r\n      setCartItems(newCart);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const localStorageCart = localStorage.getItem(\"wijayastore_cart\")\r\n      ? JSON.parse(localStorage.getItem(\"wijayastore_cart\"))\r\n      : [];\r\n    setCartItems(localStorageCart);\r\n  }, []);\r\n\r\n  return (\r\n    <div class=\"cart-box\">\r\n      <div class=\"cart-title\">\r\n        <h3>Your Shopping Bag</h3>\r\n        <form>\r\n          <Link to={\"/Home\"}>Continue Shopping</Link>\r\n        </form>\r\n      </div>\r\n      {cartItems.length === 0 ? (\r\n        <div>Your cart is currently empty.</div>\r\n      ) : (\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>Barang</th>\r\n              <th>Pengiriman ke</th>\r\n              <th>Jumlah</th>\r\n              <th>Harga</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {cartItems.map((item, idx) => (\r\n              <tr key={idx}>\r\n                <td class=\"title\" data-label=\"Item\">\r\n                  <div class=\"image\">\r\n                    <img src={`${process.env.PUBLIC_URL}/${item.image}`} />\r\n                  </div>\r\n                  <div class=\"content-image\">\r\n                    <h3>{item.name}</h3>\r\n                  </div>\r\n                </td>\r\n                <td data-label=\"Shipped from\">Medan</td>\r\n                <td data-label=\"Quantity\">\r\n                  <div class=\"quantity\">\r\n                    <button onClick={() => setQty(\"decrease\", item.name)}>\r\n                      -\r\n                    </button>\r\n                    <p>{item.qty}</p>\r\n                    <button onClick={() => setQty(\"increase\", item.name)}>\r\n                      +\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n                <td data-label=\"Price\">\r\n                  {numberFormatter(\r\n                    item.qty *\r\n                      Number(item.price?.substring(2).split(\".\").join(\"\"))\r\n                  )}\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n\r\n      {cartItems.length !== 0 && (\r\n        <div class=\"cart-payment\">\r\n          <div class=\"payment\">\r\n            <div class=\"total\">\r\n              <p>total:</p>\r\n              <h5>\r\n                {numberFormatter(\r\n                  cartItems.reduce(\r\n                    (acc, item) =>\r\n                      acc +\r\n                      Number(item.price?.substring(2).split(\".\").join(\"\")) *\r\n                        item.qty,\r\n                    0\r\n                  )\r\n                )}\r\n              </h5>\r\n            </div>\r\n            <Link to={\"/Checkout\"}>Secure Checkout</Link>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n"]},"metadata":{},"sourceType":"module"}